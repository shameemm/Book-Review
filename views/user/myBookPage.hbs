<section>
  <div class="row pr-5 pt-3 pb-3" style="width: 100%;">
  <a class="btn btn-success ml-auto" href="/addBook">Add Book</a>
  </div>
  <table class="table table-striped">
    <thead>
      <tr>

        <th scope="col">ibn</th>
        <th scope="col">Name</th>
        <th scope="col">author</th>
        <th scope="col">language</th>
        <th scope="col">description</th>
        <th scope="col">link to purchase</th>
        <th scope="col">yearOfPublication</th>
        <th scope="col">genre</th>
        <th scope="col">image</th>
        <th scope="col">delete</th>
        {{!-- <th scope="col">comment</th> --}}
        <th scope="col">view book</th>
      </tr>
    </thead>
    <tbody>
      {{#each books}}
      {{#each this}}
      {{#if this.ibnNumber}}
      <tr>

        <td>{{this.ibnNumber}}</td>
        <td>{{this.bookName}}</td>
        <td>{{this.authorName}}</td>
        <td>{{this.language}}</td>
        <td>{{this.description}}</td>
        <td>{{this.purchaseLink}}</td>
        <td>{{this.yearOfPublication}}</td>
        <td>{{this.Genre}}</td>
        <td><img src="/cover-images/{{this._id}}.jpg" alt="err" srcset="" style="height: 100px;width:100px" /></td>
        <td><a href="/deleteBook/{{this._id}}" class="btn btn-danger">delete</a></td>

        <td><a href="/bookField/{{this._id}}" class="btn btn-primary">view</a></td>



        <td>{{this.likes}}</td>



      </tr>
      {{/if}}
      {{/each}}
      {{/each}}

    </tbody>
  </table>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  var likeBook = (bookId) => {

    $.ajax({
      url: "/bookLiker",
      method: 'post',

      data: {
        count: 1,
        bookId: bookId

      },
      success: () => { location.reload() }
    })
  }
  var dislikeBook = (bookId) => {

    $.ajax({
      url: "/bookLiker",
      method: 'post',

      data: {
        count: -1,
        bookId: bookId

      },
      success: () => { location.reload() }
    })
  }
</script>